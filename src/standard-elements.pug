//- Show a section of the character sheet, wrapped in a frame, with a given title
mixin section(title)
  section.block
    if title
      h1.title.section-title&attributes(attributes)= title
    if block
      block

mixin textfield_v(attr, label, help)
  .field
    if label
      .field-label
        label.label= label
    .field-body
      if block
        .field.has-addons
          .control
            input.input.is-full(type="text" name=attr)&attributes(attributes)
          .control
            block
          if help
            p.help= help
      else
        .field
          .control
            input.input(type="text" name=attr)&attributes(attributes)
          if help
            p.help= help

mixin numberfield_v(attr, label, help)
  .field
    if label
      .field-label
        label.label= label
    .field-body
      if block
        .field.has-addons
          .control
            input.input(type="number" name=attr)&attributes(attributes)
          .control
            block
          if help
            p.help= help
      else
        .field
          .control
            input.input(type="number" name=attr)&attributes(attributes)
          if help
            p.help= help

mixin dicefield_v(attr, label, help)
  .field
    if label
      .field-label
        label.label= label
    .field-body
      if block
        .field.has-addons
          .control
            .select
              select(name=attr)&attributes(attributes)
                option(value=4) d4
                option(value=6) d6
                option(value=8) d8
                option(value=10) d10
                option(value=12) d12
          .control
            block
          if help
            p.help= help
      else
        .field
          .control
            .select
              select(name=attr)&attributes(attributes)
                option(value=4) d4
                option(value=6) d6
                option(value=8) d8
                option(value=10) d10
                option(value=12) d12
          if help
            p.help= help

mixin textfield(attr, label, help)
  .field.is-horizontal
    if label
      .field-label
        label.label= label
    .field-body
      if block
        .field.has-addons
          .control
            input.input.is-full(type="text" name=attr)&attributes(attributes)
          .control
            block
          if help
            p.help= help
      else
        .field
          .control
            input.input(type="text" name=attr)&attributes(attributes)
          if help
            p.help= help

mixin numberfield(attr, label, help)
  .field.is-horizontal
    if label
      .field-label
        label.label= label
    .field-body
      if block
        .field.has-addons
          .control
            input.input(type="number" name=attr)&attributes(attributes)
          .control
            block
          if help
            p.help= help
      else
        .field
          .control
            input.input(type="number" name=attr)&attributes(attributes)
          if help
            p.help= help

mixin dicefield(attr, label, help)
  .field.is-horizontal
    if label
      .field-label
        label.label= label
    .field-body
      if block
        .field.has-addons
          .control
            .select
              select(name=attr)&attributes(attributes)
                option(value=4) d4
                option(value=6) d6
                option(value=8) d8
                option(value=10) d10
                option(value=12) d12
          .control
            block
          if help
            p.help= help
      else
        .field
          .control
            .select
              select(name=attr)&attributes(attributes)
                option(value=4) d4
                option(value=6) d6
                option(value=8) d8
                option(value=10) d10
                option(value=12) d12
          if help
            p.help= help

mixin textarea(attr, label)
  field.is-horizontal
    if label
      .field-label
        label.label= label
    .field-body
      .field
        .control
          textarea.textarea(name=attr)&attributes(attributes)

mixin rollbutton(template, props)
  - let props_s = Object.keys(props).map(prop => `{{${prop}=${props[prop]}}}`)
  button.emoji.button(type="roll" value=`&{template:${template}} ${props_s.join(' ')}`) &#x1F3B2;